<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>执行上下文</title>
    </head>

    <body>
        <!-- 
        1.代码分类
            -全局代码
            -函数（局部）代码
        2.全局执行上下文
            -在执行全局代码前，将window确定为全局执行上下文
                -对全局数据进行预处理
                -var 定义的全局变量==》undefined。将添加为window的属性
                -function声明的全局函数==》赋值（fun），将添加为window的方法 
                -this==》赋值（window）
            -开始执行全局代码   
        3.函数执行上下文
            -在调用函数，准备执行函数体之前，创建对应的函数执行上下文对象
            -对局部数据进行预处理
                -形参变量==》赋值（实参）==》添加执行上下文的属性
                -arguments==》赋值（实参列表）。添加执行上下文的属性   
                -var 定义的局部变量==》undefined。添加执行上下文的属性   
                -function声明函数==》赋值（fun），添加执行上下文的方法   
                -this==》赋值（window）
            -开始执行函数代码    
     -->
        <script>
            //全局执行上下文
            console.log(a) //这个就相当于window.a
            fn() //这个就相当于window.fn()
            console.log(this)
            var a = 3 //let 不行，只能在输出前定义
            function fn() {
                console.log(111)
            }
            console.log(a)

            //函数执行上下文
            function fn2(a1) {
                console.log(a1)
                console.log(a2)
                fn3()
                console.log(this)
                console.log(arguments) //实参组成的伪数组

                // var a2 = 3
                function fn3() {
                    console.log(333)
                }
            }

            let a2 = 222222


            fn2(222, 555, 666)
            
        </script>
    </body>

</html>