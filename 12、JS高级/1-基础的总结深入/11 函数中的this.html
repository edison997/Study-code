<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>函数中的this</title>
</head>
<body>
    <script>
        /* 
        1.this是什么
            -任何函数本质上都是通过对象来调用
            -所有函数内部都有this
            -他的值是调用函数的当前对象
            
        2.this的指向
            -如果没有指定就是window调用的
        */

        function Person(color){
            console.log(this);
            this.color = color;
            this.getColor = function () {
                console.log(this); 
                return this.color
             };
            this.setColor = function(color){
                console.log(this);
                this.color = color;
            }
        }

        Person("red"); // window

        let p = new Person("yellow"); // p
        p.getColor(); // p

        let obj = {};
        p.setColor.call(obj,"black"); // obj

        let test = p.setColor;
        test(); //window

        function fun1(){
            console.log(this)
            function fun2(){
                console.log(this)
            }
            fun2(); // fun1
        }
        fun1(); //window
    </script>
</body>
</html>